<%= render "shared/home/navbar" %>

<div class="container">
  <div class="jumbotron">
    <h1 class="display-4"><%= @form.name %></h1>
    <p class="lead"><%= @form.description %></p>
    <hr class="my-4">
    <%= link_to "Edit", edit_form_path(@form), class: "btn btn-primary" %>
    <%= link_to "Delete", form_path(@form), data: {confirm: "Are you sure you want to delete this form?"}, class: "btn btn-danger", method: 'delete' %>
  </div>

  <div class="alert alert-info" role="alert">
    Section For the <%= @form.name %> Form
  </div>
  <div class="section-display">
    <% @form.sections.each do |section| %>
      <%= render 'shared/forms/form', locals: {section: section} %>
    <% end  %>
  </div>



  <div class="mt-4 row">
    <%= link_to "Add A Section", url_for(controller: :sections, action: :new, form: @form.id), class: "btn btn-info", remote: true  %>
  </div>
  <div class="mt-4" id="content">

  </div>
</div>

<% content_for :javascripts do %>
  <%= javascript_include_tag 'sections' %>
<% end %>

<% content_for :end_js do %>
  <script>
      // $(document).ready(function () {
      //     $(document).on('click', '.remove-section', function() {
      //         $(this)[0].parentElement.parentElement.parentElement.remove();
      //     });
      //
      //     $(document).on('change', '.question-type', function () {
      //         let selectTag = $(this)[0];
      //         console.log(selectTag.value);
      //         $(selectTag.parentElement).siblings('.add-option-container').find('.add-option').attr('href', `/section/question/${selectTag.value}`);
      //     })
      // });
  </script>
<% end %>
